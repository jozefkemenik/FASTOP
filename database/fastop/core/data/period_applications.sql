/* Formatted on 11/29/2019 11:43:30 (QP5 v5.252.13127.32847) */
SET DEFINE OFF;

-- DRM in AUT and SPR
-- DBP, only in AUT
INSERT INTO PERIOD_APPLICATIONS (PERIOD_SID, APP_SID)
SELECT
      P.PERIOD_SID, A.APP_SID
FROM PERIODS P, APPLICATIONS A
WHERE    A.APP_ID IN ('DBP', 'DRM')
    AND P.PERIOD_ID = 'AUT';

-- SCP and FGD (NFR, IFI, MTBF, PIM) only in SPR
INSERT INTO PERIOD_APPLICATIONS (PERIOD_SID, APP_SID)
SELECT
      P.PERIOD_SID, A.APP_SID
FROM PERIODS P, APPLICATIONS A
WHERE    A.APP_ID IN ('SCP', 'DRM', 'FGD', 'NFR', 'IFI', 'MTBF', 'PIM')
    AND P.PERIOD_ID = 'SPR';

-- GBD only in WIN
INSERT INTO PERIOD_APPLICATIONS (PERIOD_SID, APP_SID)
SELECT
      P.PERIOD_SID, A.APP_SID
FROM PERIODS P, APPLICATIONS A
WHERE    A.APP_ID IN ('GBD')
    AND P.PERIOD_ID = 'WIN';

-- other APPS in all 'N' periods
INSERT INTO PERIOD_APPLICATIONS (PERIOD_SID, APP_SID)
SELECT
      P.PERIOD_SID, A.APP_SID
FROM PERIODS P, APPLICATIONS A
WHERE   A.APP_ID NOT IN ('DBP', 'SCP', 'DRM', 'FGD', 'NFR', 'IFI', 'MTBF', 'GBD','PIM')
    AND P.ROUND_TYPE = 'N';

COMMIT;
